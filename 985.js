"use strict";(self.webpackChunkrslang=self.webpackChunkrslang||[]).push([[985],{7985:function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,a){function s(t){try{c(o.next(t))}catch(t){a(t)}}function r(t){try{c(o.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,r)}c((o=o.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.statistic=void 0;const a=i(n(871)),s="https://sveta077-rslang.herokuapp.com",r=new a.default;r.loadUser(),e.statistic=function(t,e,n,i){return o(this,void 0,void 0,(function*(){if(""!=r.id){const i=new Date,a=i.getFullYear()+1e4*i.getMonth()+1e6*i.getDate();let c,l={right:0,wrong:0};c={};const u=yield fetch(`${s}/users/${r.id}/statistics`,{method:"GET",headers:{Authorization:`Bearer ${r.token}`,Accept:"application/json","Content-Type":"application/json"}});if(u.ok){const t=yield u.json(),e=yield t.optional;e.data==a&&(c=e,n in c&&(l=e[n]))}else c={},console.log("none statistic ");c.data=a,l.right+=t,l.wrong+=e,c[n]=l,o=c,console.log(JSON.stringify({learnedWords:0,optional:o})),fetch(`${s}/users/${r.id}/statistics`,{method:"PUT",headers:{Authorization:`Bearer ${r.token}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({learnedWords:0,optional:o})})}var o;i&&(window.location.href=i)}))}}}]);